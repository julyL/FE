<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="">
</head>
<style>
	div{
		padding-left: 20px;
	}
</style>
<body>
    <div id="a">aaa
        <div id="b">bbb</div>
        <div id="c">ccc
            <div id="d">ddd
                <div id="f">fff</div>
            </div>
            <div id="e">eee</div>
        </div>
    </div>
    <script>
    // 递归实现
    function getElementById1(node, id) {
        if (!id) {
            id = node;
            node = document.body;
        }
        console.log("遍历顺序：",node.id);
        if (node.id == id) {
            return node;
        }
        var len = node.children.length,
            i = 0,
            result;
        while (i < len) {
            result = getElementById1(node.children[i], id);
            i++;
            if (result) {
                break;
            }
        }
        return result;
    }
    console.log("getElementById1：",getElementById1("f"));

    // 非递归实现
    function getElementById2(node, id) {
        //遍历所有的Node
        while (node) {
        	 console.log("遍历顺序：",node.id);
            if (node.id === id) return node;
            node = nextElement(node);
        }
        return null;
    }
    function nextElement(node){   			// think:  如何根据当前node的位置 来获取下一个node?   resolve: 罗列所有可能出现的情况，并处理即可
    	if(node.children[0]){     			// case1:  有子节点
    		return node.children[0];
    	}else if(node.nextElementSibling){  // case2: 没有子节点则尝试获取兄弟节点
    		return node.nextElementSibling;
    	}
    	while(node.parentElement&&node.parentElement.nextElementSibling){   // case3: 尝试获取父节点的兄弟节点
    		return node.parentElement.nextElementSibling;
    	}
    	return null;
    }
     console.log("getElementById2：",getElementById2(document.body,"f"));
    </script>
</body>

</html>
